---
description:
globs:
alwaysApply: false
---
# 代码规范

Utopia-Utils 代码库遵循以下编码规范：

## TypeScript

- 所有代码使用 TypeScript 编写，具有完整的类型定义
- 函数应该提供准确的入参和返回值类型
- 使用类型安全的设计模式，如定义字典工具[defineDictionary](mdc:packages/core/src/defineDictionary.ts)

## 文件结构

- 每个功能独立为单个文件实现
- 每个功能都有对应的单元测试文件，命名为 `xxx.test.ts`
- 相关功能按包组织，如树结构相关放在 `packages/tree` 中

## 导出规范

- 包级别入口文件 `index.ts` 统一导出所有功能
- 函数使用命名导出方式导出，不使用默认导出
- 第三方库功能在 `vendor.ts` 中重新导出

## 注释规范

- 函数应该有清晰的 JSDoc 注释，包括功能描述、参数和返回值
- 复杂逻辑应该有适当的注释说明
- js、ts 文件中的注释应使用多行注释形式（以 `/*` 开始，以 `*/` 结束）

## 测试规范

- 每个功能都有对应的单元测试
- 测试覆盖常见使用场景和边界情况
- 测试文件与实现文件放在同一目录下
